<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ferramenta Integrada de Aconselhamento B√≠blico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Source+Serif+4:opsz,wght@8..60,400;600&display=swap" rel="stylesheet">
    
    <!-- 
    Plano de Estrutura e Design:
    Esta √© uma aplica√ß√£o de p√°gina √∫nica (SPA) que consolida os conceitos de tr√™s documentos principais sobre aconselhamento b√≠blico em uma ferramenta coesa e interativa. A estrutura segue um fluxo l√≥gico, guiando o conselheiro desde a base teol√≥gica at√© a aplica√ß√£o pr√°tica.

    1.  **Paleta de Cores e Tipografia:** Usei uma paleta de cores s√≥bria e profissional (ard√≥sia, √¢mbar, azul e branco) para criar um ambiente calmo e focado. A tipografia combina 'Poppins' para t√≠tulos (moderna e clara) e 'Source Serif 4' para o corpo do texto (elegante e leg√≠vel), melhorando a experi√™ncia de leitura.
    2.  **Navega√ß√£o e Layout:** Uma barra de navega√ß√£o fixa no topo com rolagem suave permite acesso r√°pido a todas as se√ß√µes. O layout √© baseado em grade e flexbox para garantir total responsividade em dispositivos m√≥veis, tablets e desktops.
    3.  **Visualiza√ß√£o de Dados (Chart.js):**
        - **Gr√°fico de Rosca (O Cora√ß√£o):** Visualiza as tr√™s fun√ß√µes do cora√ß√£o (Raz√£o, Afetos, Vontade). Essa representa√ß√£o gr√°fica √© mais impactante e f√°cil de memorizar do que um texto simples.
        - **Gr√°fico de Radar (Diagn√≥stico):** Ferramenta interativa central. Permite ao conselheiro mapear visualmente a intensidade dos "√≠dolos funcionais" do aconselhado, transformando um conceito abstrato em um diagn√≥stico visual e concreto.
    4.  **Componentes Interativos (HTML/CSS/JS):**
        - **Acorde√£o de Perguntas:** As "Perguntas Raio-X" de Powlison s√£o organizadas em um acorde√£o. Isso evita sobrecarga de informa√ß√£o, permitindo que o conselheiro foque em uma categoria de cada vez.
        - **Cart√µes de √çdolos Clic√°veis:** A sele√ß√£o de um "√≠dolo" atualiza dinamicamente a se√ß√£o "A Cura", conectando diretamente o problema (diagn√≥stico) √† solu√ß√£o (o Evangelho). Isso torna a aplica√ß√£o do rem√©dio b√≠blico contextual e espec√≠fica.
        - **Diagrama de Processo (Despojar/Revestir):** Um diagrama de fluxo visual criado com Flexbox para ilustrar claramente o processo de santifica√ß√£o pr√°tica de Ef√©sios 4.

    O objetivo geral √© transformar documentos est√°ticos em uma ferramenta de minist√©rio viva, que pode ser usada durante uma sess√£o de aconselhamento para facilitar o entendimento e a aplica√ß√£o da verdade b√≠blica.
    -->
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
        }
        p, li, blockquote {
            font-family: 'Source Serif 4', serif;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #1d4ed8; /* blue-700 */
            border-bottom-color: #1d4ed8;
        }
        details > summary {
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
        .idol-card.selected {
            border-color: #d97706; /* amber-600 */
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 350px;
            width: 100%;
            max-width: 450px;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Header e Navega√ß√£o -->
    <header class="bg-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-slate-900">Aconselhamento B√≠blico</h1>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#fundamentos" class="nav-link font-medium text-slate-600">Fundamentos</a>
                <a href="#diagnostico" class="nav-link font-medium text-slate-600">Diagn√≥stico</a>
                <a href="#cura" class="nav-link font-medium text-slate-600">A Cura</a>
                <a href="#pratica" class="nav-link font-medium text-slate-600">Pr√°tica</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-slate-800">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-200">
            <a href="#fundamentos" class="mobile-nav-link block py-3 px-6 text-slate-700 hover:bg-slate-100">Fundamentos</a>
            <a href="#diagnostico" class="mobile-nav-link block py-3 px-6 text-slate-700 hover:bg-slate-100">Diagn√≥stico</a>
            <a href="#cura" class="mobile-nav-link block py-3 px-6 text-slate-700 hover:bg-slate-100">A Cura</a>
            <a href="#pratica" class="mobile-nav-link block py-3 px-6 text-slate-700 hover:bg-slate-100">Pr√°tica</a>
        </div>
    </header>

    <main class="container mx-auto p-6 md:p-12">

        <!-- Se√ß√£o de Introdu√ß√£o -->
        <section id="intro" class="text-center my-16">
            <h2 class="text-4xl md:text-5xl font-bold text-slate-900 leading-tight">Uma Ferramenta para o<br>Aconselhamento Centrado no Cora√ß√£o</h2>
            <p class="mt-6 text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">Esta p√°gina integra os princ√≠pios essenciais do aconselhamento b√≠blico para equipar o conselheiro a sondar as profundezas do cora√ß√£o e aplicar o poder transformador do Evangelho.</p>
        </section>

        <!-- Se√ß√£o de Fundamentos -->
        <section id="fundamentos" class="scroll-mt-24 mb-24">
            <div class="text-center mb-12">
                <span class="text-sm font-semibold text-blue-800 bg-blue-100 rounded-full px-4 py-1">Cap√≠tulo 1</span>
                <h3 class="text-3xl font-bold mt-3 text-slate-900">Os Fundamentos Inegoci√°veis</h3>
            </div>

            <div class="grid md:grid-cols-5 gap-8 items-center">
                <!-- Conceito do Cora√ß√£o -->
                <div class="md:col-span-3 bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                    <h4 class="text-2xl font-bold text-slate-900 mb-4">O Cora√ß√£o: Nosso Centro de Controle</h4>
                    <p class="text-slate-600 mb-4">A teologia b√≠blica ensina que o cora√ß√£o √© muito mais do que a sede das emo√ß√µes. √â o centro de comando da vida interior, a fonte de onde emanam todos os nossos pensamentos, desejos, inten√ß√µes e a√ß√µes. √â quem n√≥s realmente somos (Prov√©rbios 27:19).</p>
                    <p class="text-slate-600">Portanto, o aconselhamento que busca uma mudan√ßa genu√≠na n√£o pode focar apenas no comportamento (os frutos), mas deve, necessariamente, tratar da condi√ß√£o do cora√ß√£o (a raiz).</p>
                </div>

                <!-- Gr√°fico do Cora√ß√£o -->
                <div class="md:col-span-2">
                    <div class="chart-container">
                        <canvas id="heartChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Sufici√™ncia das Escrituras -->
            <div class="mt-16 bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                <h4 class="text-2xl font-bold text-slate-900 mb-6 text-center">A Sufici√™ncia das Escrituras</h4>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div>
                        <div class="mx-auto bg-blue-100 text-blue-700 w-16 h-16 rounded-full flex items-center justify-center text-3xl mb-4">üìñ</div>
                        <h5 class="text-xl font-semibold mb-2">Autoridade Divina</h5>
                        <p class="text-slate-600 text-sm">A Palavra de Deus √© inspirada e inerrante, nossa √∫nica regra de f√© e pr√°tica. Ela possui a autoridade final para definir a verdade sobre Deus, o homem e a vida (2 Tim√≥teo 3:16-17).</p>
                    </div>
                    <div>
                        <div class="mx-auto bg-blue-100 text-blue-700 w-16 h-16 rounded-full flex items-center justify-center text-3xl mb-4">‚ö°Ô∏è</div>
                        <h5 class="text-xl font-semibold mb-2">Poder Transformador</h5>
                        <p class="text-slate-600 text-sm">A Escritura √© "viva e eficaz", capaz de penetrar at√© o mais √≠ntimo do ser, "discernindo os pensamentos e prop√≥sitos do cora√ß√£o" e operando a verdadeira transforma√ß√£o (Hebreus 4:12).</p>
                    </div>
                     <div>
                        <div class="mx-auto bg-blue-100 text-blue-700 w-16 h-16 rounded-full flex items-center justify-center text-3xl mb-4">üí°</div>
                        <h5 class="text-xl font-semibold mb-2">Revela√ß√£o Completa</h5>
                        <p class="text-slate-600 text-sm">Nela, Deus nos deu tudo o que precisamos para a vida e a piedade. Ela √© suficiente para nos tornar s√°bios para a salva√ß√£o e nos equipar para toda boa obra.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Diagn√≥stico -->
        <section id="diagnostico" class="scroll-mt-24 mb-24">
            <div class="text-center mb-12">
                <span class="text-sm font-semibold text-amber-800 bg-amber-100 rounded-full px-4 py-1">Cap√≠tulo 2</span>
                <h3 class="text-3xl font-bold mt-3 text-slate-900">O Diagn√≥stico do Cora√ß√£o</h3>
                <p class="mt-4 text-lg text-slate-600 max-w-2xl mx-auto">Para ajudar algu√©m, precisamos entender o "porqu√™" por tr√°s do "o qu√™". Use as Perguntas Raio-X para investigar as motiva√ß√µes profundas e identificar os √≠dolos funcionais que governam o cora√ß√£o.</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-12">
                <!-- Acorde√£o de Perguntas -->
                <div class="space-y-4">
                     <h4 class="text-2xl font-bold text-slate-900 mb-4">Investiga√ß√£o: Perguntas Raio-X</h4>
                    <div id="questions-accordion"></div>
                </div>

                <!-- Gr√°fico de √çdolos -->
                <div>
                    <h4 class="text-2xl font-bold text-slate-900 mb-4">Visualiza√ß√£o: √çdolos Funcionais</h4>
                    <p class="text-slate-600 mb-6">Use o gr√°fico para mapear a influ√™ncia dos desejos que competem com Deus no cora√ß√£o do aconselhado. Ajuste a intensidade de cada √°rea conforme a conversa avan√ßa.</p>
                     <div class="chart-container" style="max-width: 500px; height: 400px;">
                        <canvas id="idolsChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o da Cura -->
        <section id="cura" class="scroll-mt-24 mb-24">
            <div class="text-center mb-12">
                <span class="text-sm font-semibold text-emerald-800 bg-emerald-100 rounded-full px-4 py-1">Cap√≠tulo 3</span>
                <h3 class="text-3xl font-bold mt-3 text-slate-900">A Cura: Aplicando o Rem√©dio do Evangelho</h3>
                <p class="mt-4 text-lg text-slate-600 max-w-2xl mx-auto">A descoberta do √≠dolo n√£o √© o fim, mas o ponto de partida para a verdadeira cura. A solu√ß√£o n√£o √© autoajuda, mas a aplica√ß√£o espec√≠fica da obra de Cristo ao cora√ß√£o.</p>
            </div>
            
            <!-- Sele√ß√£o de √çdolos -->
            <div id="idols-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8"></div>

            <!-- Conte√∫do do Rem√©dio -->
            <div id="remedy-content" class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200 min-h-[200px] transition-all duration-300">
                <p class="text-slate-500 text-center">Selecione um √≠dolo acima para ver o diagn√≥stico e o rem√©dio do Evangelho correspondente.</p>
            </div>
        </section>

        <!-- Se√ß√£o da Pr√°tica -->
        <section id="pratica" class="scroll-mt-24">
            <div class="text-center mb-12">
                <span class="text-sm font-semibold text-rose-800 bg-rose-100 rounded-full px-4 py-1">Cap√≠tulo 4</span>
                <h3 class="text-3xl font-bold mt-3 text-slate-900">A Pr√°tica da Transforma√ß√£o</h3>
                 <p class="mt-4 text-lg text-slate-600 max-w-2xl mx-auto">A mudan√ßa do cora√ß√£o se manifesta em uma nova maneira de viver. O modelo b√≠blico √© claro: abandonar o velho homem e se revestir do novo, criado em justi√ßa.</p>
            </div>
            
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-200">
                <div class="flex flex-col md:flex-row items-center justify-center gap-6 text-center">
                    
                    <!-- Despojar -->
                    <div class="w-full md:w-1/3 p-6 bg-rose-50 rounded-lg">
                         <h4 class="text-xl font-bold text-rose-800 mb-2">1. Despojar (Ef. 4:22)</h4>
                         <p class="text-slate-600">Reconhecer e confessar os pensamentos, desejos e comportamentos pecaminosos (os √≠dolos e seus frutos) atrav√©s de um arrependimento sincero.</p>
                         <p class="mt-3 text-sm font-semibold italic text-rose-900">Pergunta: "Qual mentira espec√≠fica voc√™ precisa abandonar pela f√©?"</p>
                    </div>

                    <div class="text-3xl text-slate-300 font-light">&rarr;</div>

                    <!-- Renovar -->
                    <div class="w-full md:w-1/3 p-6 bg-amber-50 rounded-lg">
                        <h4 class="text-xl font-bold text-amber-800 mb-2">2. Renovar (Ef. 4:23)</h4>
                        <p class="text-slate-600">Substituir as mentiras do cora√ß√£o pela Verdade da Palavra de Deus. Meditar nas promessas e no car√°ter de Deus revelados em Cristo.</p>
                        <p class="mt-3 text-sm font-semibold italic text-amber-900">Pergunta: "Qual verdade da B√≠blia confronta diretamente essa mentira?"</p>
                    </div>
                    
                    <div class="text-3xl text-slate-300 font-light">&rarr;</div>

                    <!-- Revestir -->
                    <div class="w-full md:w-1/3 p-6 bg-emerald-50 rounded-lg">
                        <h4 class="text-xl font-bold text-emerald-800 mb-2">3. Revestir (Ef. 4:24)</h4>
                        <p class="text-slate-600">Praticar ativamente novas a√ß√µes motivadas pelo amor a Deus e ao pr√≥ximo, como reflexo da nova identidade e do novo cora√ß√£o em Cristo.</p>
                        <p class="mt-3 text-sm font-semibold italic text-emerald-900">Pergunta: "Qual passo pr√°tico demonstra sua f√© nessa nova verdade?"</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-slate-300 mt-24">
        <div class="container mx-auto py-8 px-6 text-center">
            <p class="text-sm">Ferramenta desenvolvida com base nos materiais de aconselhamento b√≠blico, incluindo a obra "Perguntas Raio-X" de David A. Powlison.</p>
            <p class="text-xs mt-2 text-slate-400">&copy; 2024. Criado para o avan√ßo do minist√©rio da Palavra.</p>
        </div>
    </footer>


<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- Dados da Aplica√ß√£o ---
    const appData = {
        questions: [
            {
                category: "Amor, Desejo e Vontade",
                items: [
                    "O que voc√™ ama? O que voc√™ odeia?",
                    "O que voc√™ quer, deseja, anseia ou cobi√ßa?",
                    "Quais s√£o seus alvos e expectativas na vida?",
                    "Sobre o que voc√™ alicer√ßa a sua esperan√ßa?"
                ]
            },
            {
                category: "Medos e Preocupa√ß√µes",
                items: [
                    "O que voc√™ teme? O que voc√™ n√£o quer que aconte√ßa?",
                    "O que o deixa preocupado ou ansioso?",
                    "Quando pressionado, para onde voc√™ se volta em busca de al√≠vio ou escape?"
                ]
            },
            {
                category: "Confian√ßa, Seguran√ßa e Adora√ß√£o",
                items: [
                    "Em quem ou no que voc√™ confia para ter seguran√ßa e paz?",
                    "Onde voc√™ encontra seu ref√∫gio e conforto?",
                    "O que realmente importa para voc√™? O que orienta o seu mundo?",
                    "Quais s√£o seus √≠dolos ou 'deuses funcionais'?"
                ]
            },
            {
                category: "Identidade e Valor",
                items: [
                    "A quem voc√™ precisa agradar? Qual opini√£o conta mais para voc√™?",
                    "Onde voc√™ encontra sua identidade? Como voc√™ define quem voc√™ √©?",
                    "Como voc√™ define sucesso ou fracasso?",
                    "Aos olhos de quem voc√™ est√° vivendo?"
                ]
            }
        ],
        idols: {
            "Controle": {
                description: "Eu preciso estar no comando. Peco quando as coisas ou pessoas saem do meu controle.",
                remedy: {
                    title: "O Rem√©dio para o √çdolo do Controle",
                    repentance: "Leve o aconselhado a confessar n√£o apenas a tentativa de controlar, mas a incredulidade na soberania e bondade de Deus. √â um pecado de querer ocupar o trono de Deus. Ex: 'Senhor, perdoa-me por agir como se eu fosse o soberano da minha vida e por n√£o confiar no Teu governo perfeito e amoroso.'",
                    faith: "Mostre a beleza da soberania de Cristo, que governa todas as coisas com sabedoria e poder para o bem do seu povo (Romanos 8:28). Ele √© o Rei digno de confian√ßa, em cujas m√£os podemos descansar e entregar o fardo do controle.",
                    questions: [
                        "Como a verdade de que Cristo √© o Rei soberano liberta voc√™ da ansiedade de ter que controlar tudo?",
                        "O que Jesus, o Senhor do Universo, oferece que √© melhor do que a fr√°gil ilus√£o do seu pr√≥prio controle?"
                    ]
                }
            },
            "Conforto": {
                description: "Eu preciso de uma vida f√°cil e sem dor. Peco quando a vida fica dif√≠cil ou desconfort√°vel.",
                remedy: {
                    title: "O Rem√©dio para o √çdolo do Conforto",
                    repentance: "Ajude na confiss√£o de amar o al√≠vio imediato e a facilidade mais do que a obedi√™ncia e a gl√≥ria de Deus. Ex: 'Pai, perdoa-me por amar mais o meu conforto do que a Tua vontade e o Teu chamado para a santidade, mesmo no sofrimento.'",
                    faith: "Apresente Cristo como nosso verdadeiro descanso e paz (Mateus 11:28-30). Aponte para a promessa de um consolo eterno que supera infinitamente as afli√ß√µes presentes (2 Cor√≠ntios 4:17) e para o Esp√≠rito Santo, o Consolador prometido.",
                    questions: [
                        "Como a promessa de descanso eterno em Cristo d√° a voc√™ for√ßa para perseverar no desconforto presente?",
                        "O que Jesus, que abriu m√£o de todo o conforto por n√≥s, oferece que √© mais valioso do que uma vida f√°cil?"
                    ]
                }
            },
            "Aprova√ß√£o": {
                description: "Eu preciso ser amado, respeitado e aceito. Peco quando me sinto rejeitado ou criticado.",
                remedy: {
                    title: "O Rem√©dio para o √çdolo da Aprova√ß√£o",
                    repentance: "Conduza ao arrependimento por temer mais os homens do que a Deus e por buscar nos outros a identidade que s√≥ se encontra em Cristo. Ex: 'Senhor, perdoa-me por buscar minha identidade e meu valor na opini√£o inst√°vel das pessoas e n√£o na forma como Tu me v√™s em Cristo.'",
                    faith: "Celebre a justifica√ß√£o pela f√©. Em Cristo, somos plenamente aceitos, amados e aprovados pelo √∫nico cuja opini√£o importa (Romanos 8:33-34). A aprova√ß√£o de Deus √© nosso status fixo e inabal√°vel.",
                    questions: [
                        "Como sua identidade de 'aceito no Amado' (Ef√©sios 1:6) liberta voc√™ da escravid√£o de precisar da aprova√ß√£o dos outros?",
                        "O que a aprova√ß√£o de Deus, garantida em Cristo, oferece que √© mais seguro do que o aplauso das pessoas?"
                    ]
                }
            },
            "Poder": {
                description: "Eu preciso de influ√™ncia e respeito. Peco para manter minha posi√ß√£o ou para que as coisas sejam feitas do meu jeito.",
                remedy: {
                    title: "O Rem√©dio para o √çdolo do Poder",
                    repentance: "Ajude na confiss√£o do orgulho, da auto-exalta√ß√£o e de usar as pessoas para fins ego√≠stas. Ex: 'Pai, perdoa-me por buscar minha pr√≥pria gl√≥ria e por usar minha influ√™ncia para servir a mim mesmo, em vez de servir aos outros como Cristo fez.'",
                    faith: "Aponte para Cristo, que, sendo o mais poderoso, esvaziou-se e tornou-se servo (Filipenses 2:5-8). O verdadeiro poder no Reino de Deus √© o poder de servir em amor, capacitado pelo Esp√≠rito Santo, para a gl√≥ria de Deus.",
                    questions: [
                        "Como o exemplo de Cristo como servo redefine para voc√™ o que √© o verdadeiro poder?",
                        "O que o Reino de Cristo oferece que √© infinitamente melhor do que a influ√™ncia e o poder deste mundo?"
                    ]
                }
            },
            "Prazer": {
                description: "Eu preciso me sentir bem agora. Peco para fugir da dor ou buscar prazer imediato.",
                remedy: {
                    title: "O Rem√©dio para o √çdolo do Prazer",
                    repentance: "Conduza ao arrependimento por buscar satisfa√ß√£o em cisternas rotas em vez de na Fonte de √Ågua Viva. Ex: 'Senhor, perdoa-me por buscar ref√∫gio em prazeres que n√£o satisfazem e por desonrar a Ti, que √©s a fonte de toda a verdadeira alegria.'",
                    faith: "Mostre que somente em Deus h√° 'abund√¢ncia de alegrias' e 'del√≠cias perpetuamente' (Salmo 16:11). Cristo nos oferece a '√°gua viva' que satisfaz a sede mais profunda da nossa alma, um prazer superior a qualquer prazer terreno.",
                    questions: [
                        "Como a promessa de alegria eterna em Cristo liberta voc√™ da busca desesperada por prazer imediato?",
                        "O que Jesus, a fonte de toda alegria, oferece que √© mais satisfat√≥rio e duradouro do que os prazeres fugazes do pecado?"
                    ]
                }
            }
        }
    };

    let idolsChart = null;

    // --- Fun√ß√µes de Inicializa√ß√£o e Renderiza√ß√£o ---

    function createHeartChart() {
        const ctx = document.getElementById('heartChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Raz√£o (Pensamentos, Cren√ßas)', 'Afetos (Emo√ß√µes, Sentimentos)', 'Voli√ß√£o (Desejos, Vontade)'],
                datasets: [{
                    data: [33.3, 33.3, 33.3],
                    backgroundColor: ['rgba(59, 130, 246, 0.7)', 'rgba(249, 115, 22, 0.7)', 'rgba(22, 163, 74, 0.7)'],
                    borderColor: ['#ffffff'],
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { font: { family: "'Poppins', sans-serif", size: 12 } }
                    },
                    title: {
                        display: true,
                        text: 'As Fun√ß√µes do Cora√ß√£o',
                        font: { family: "'Poppins', sans-serif", size: 16, weight: 'bold' }
                    }
                }
            }
        });
    }

    function populateQuestions() {
        const container = document.getElementById('questions-accordion');
        let html = appData.questions.map(group => `
            <details class="bg-white border border-slate-200 rounded-lg shadow-sm transition-shadow hover:shadow-md">
                <summary class="flex justify-between items-center p-4 cursor-pointer">
                    <span class="font-semibold text-slate-800">${group.category}</span>
                    <svg class="w-5 h-5 text-slate-500 transition-transform transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </summary>
                <div class="p-4 border-t border-slate-200">
                    <ul class="list-disc list-inside space-y-2 text-slate-600">
                        ${group.items.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            </details>
        `).join('');
        container.innerHTML = html;
        container.querySelectorAll('details').forEach(detail => {
            detail.addEventListener('toggle', (e) => {
                const arrow = e.target.querySelector('summary svg');
                arrow.classList.toggle('rotate-180', e.target.open);
            });
        });
    }

    function createIdolsChart() {
        const ctx = document.getElementById('idolsChart').getContext('2d');
        const idolKeys = Object.keys(appData.idols);
        idolsChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: idolKeys,
                datasets: [{
                    label: 'Intensidade da Motiva√ß√£o',
                    data: Array(idolKeys.length).fill(5),
                    backgroundColor: 'rgba(217, 119, 6, 0.2)',
                    borderColor: 'rgba(217, 119, 6, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(217, 119, 6, 1)',
                    pointBorderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { r: { angleLines: { display: true }, suggestedMin: 0, suggestedMax: 10, pointLabels: { font: { size: 12, weight: 'bold' } } } },
                plugins: { legend: { display: false } }
            }
        });
    }

    function populateIdols() {
        const container = document.getElementById('idols-container');
        container.innerHTML = Object.keys(appData.idols).map(idolKey => `
            <button class="idol-card text-left bg-white hover:bg-slate-100 p-4 rounded-lg shadow-sm border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all duration-200" data-idol="${idolKey}">
                <h4 class="font-bold text-slate-800">${idolKey}</h4>
                <p class="text-sm text-slate-600 mt-1">${appData.idols[idolKey].description}</p>
            </button>
        `).join('');
        container.querySelectorAll('.idol-card').forEach(card => {
            card.addEventListener('click', () => {
                container.querySelectorAll('.idol-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                updateRemedyContent(card.dataset.idol);
            });
        });
    }

    function updateRemedyContent(idolKey) {
        const container = document.getElementById('remedy-content');
        if (!idolKey) {
            container.innerHTML = `<p class="text-slate-500 text-center">Selecione um √≠dolo acima para ver o diagn√≥stico e o rem√©dio do Evangelho correspondente.</p>`;
            return;
        }
        const remedy = appData.idols[idolKey].remedy;
        container.innerHTML = `
            <div class="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-lg">
                <h3 class="text-2xl font-bold text-amber-900 mb-4">${remedy.title}</h3>
                <div class="space-y-6">
                    <div>
                        <h4 class="font-semibold text-slate-800">1. Arrependimento (Afastar-se do √çdolo)</h4>
                        <p class="text-slate-700 mt-1">${remedy.repentance}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-slate-800">2. F√© (Voltar-se para Cristo)</h4>
                        <p class="text-slate-700 mt-1">${remedy.faith}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-slate-800">3. Perguntas para Aplica√ß√£o:</h4>
                        <ul class="list-disc list-inside space-y-2 text-slate-700 mt-2">
                            ${remedy.questions.map(q => `<li>${q}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            </div>`;
    }

    // --- Gerenciamento de Eventos ---

    // Navega√ß√£o Mobile
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
    document.querySelectorAll('.mobile-nav-link').forEach(link => {
        link.addEventListener('click', () => mobileMenu.classList.add('hidden'));
    });

    // Navega√ß√£o Ativa no Scroll
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-link');
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const id = entry.target.id;
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.getAttribute('href').substring(1) === id);
                });
            }
        });
    }, { rootMargin: '-30% 0px -70% 0px' });
    sections.forEach(section => observer.observe(section));


    // --- Inicializa√ß√£o da Aplica√ß√£o ---
    createHeartChart();
    populateQuestions();
    createIdolsChart();
    populateIdols();
});
</script>

</body>
</html>
